<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Transaksi | UrbanLoka</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="main">

 
    <div class="navbar">
        <div class="icon">
            <h2 class="logo">UrbanLoka</h2>
        </div>
        <div class="menu">
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="produk.html">PRODUK</a></li>
                <li><a href="keranjang.html">KERANJANG</a></li>
            </ul>
        </div>
    </div>

    <h2 class="judul-produk">Halaman <span>Transaksi</span></h2>

    <div class="cart-container" id="checkout-item"></div>

    <h3 class="total-harga" id="total"></h3>

    <div style="margin-top:20px;">
        <button class="btn-beli" onclick="konfirmasi()">Bayar Sekarang</button>
        <button class="btn-hapus" onclick="batal()">Batal</button>
    </div>

</div>

<script>
function loadCheckout() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let container = document.getElementById("checkout-item");
    let total = 0;

    container.innerHTML = "";

    if (cart.length === 0) {
        container.innerHTML = "<p>Tidak ada transaksi.</p>";
        return;
    }

    cart.forEach(item => {
        total += item.price * item.qty;

        container.innerHTML += `
        <div class="cart-item">
            <img src="${item.image}" class="cart-img">
            <div class="cart-info">
                <h4>${item.name}</h4>
                <p>Harga: Rp ${item.price.toLocaleString()}</p>
                <p>Qty: ${item.qty}</p>
            </div>
        </div>
        `;
    });

    document.getElementById("total").innerText =
        "Total Bayar: Rp " + total.toLocaleString();
}


function konfirmasi() {
    alert("Transaksi berhasil! Terima kasih ");
    localStorage.removeItem("cart");
    window.location.href = "index.html";
}


function batal() {
    window.location.href = "produk.html";
}

loadCheckout();
</script>

</body>
</html>
